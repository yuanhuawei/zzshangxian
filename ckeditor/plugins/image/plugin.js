CKEDITOR.plugins.add('image',{init:function(a){var b='image';CKEDITOR.dialog.add(b,this.path+'dialogs/image.js');a.addCommand(b,new CKEDITOR.dialogCommand(b));a.ui.addButton('Image',{label:a.lang.common.image,command:b});a.on('doubleclick',function(c){var d=c.data.element;if(d.is('img')&&!d.data('cke-realelement')&&!d.isReadOnly())c.data.dialog='image';});if(a.addMenuItems)a.addMenuItems({image:{label:a.lang.image.menu,command:'image',group:'image'}});if(a.contextMenu)a.contextMenu.addListener(function(c,d){if(!c||!c.is('img')||c.data('cke-realelement')||c.isReadOnly())return null;return{image:CKEDITOR.TRISTATE_OFF};});}});CKEDITOR.config.image_removeLinkByEmptyURL=true;
